#!/bin/bash

# This file is meant to be sourced by the other scripts to get a single point of truth
date=$(\date +%Y%m%d)
# Use like this: $(eval ${command_date_time}
command_date_time="\date +%Y%m%d_%H%M%S"
logging=1
debug=1

path_html_ramdisk=/var/www/html/ramdisk
path_html_persistent=/var/www/html/persistent
path_html_archive=/var/www/html/persistent/${date}
path_upload_onedrive=~/OneDrive/Meeri-Cam

filename_photo_latest=current.webp

filepath_log=~/meeri.log
filepath_data_photoSizeByTime_original=/tmp/meeri_photo_sizeByTime_${date}_original.csv
filepath_data_photoSizeByTime_filtered=/tmp/meeri_photo_sizeByTime_${date}_filtered.csv
filepath_data_photoSizeByTime=${path_html_persistent}/meeri_photo_sizeByTime_${date}.csv
filepath_video_date=${path_html_persistent}/meeri_daily_${date}.mp4

photo_intervall=10
photo_combine_frames=20
photo_frames_per_second=10
photo_quality=95

clean_min_absolute_size=40
clean_initial_expectation_percent=98
clean_lower_expectation_percent=2

upload_onedrive=1

gpio_pin=17
gpio_photo_filepath=/tmp/${filename_photo_latest}
gpio_threshold_photo_size_kb=10



mkdir --parent ${path_html_ramdisk}/debug
